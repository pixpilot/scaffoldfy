{
  "$schema": "https://unpkg.com/@pixpilot/scaffoldfy/schema",
  "description": "Update root package.json with repository information",
  "name": "update-root-package-json",
  "dependencies": ["project-info", "license-file"],
  "tasks": [
    {
      "id": "update-root-package",
      "name": "Update root package.json",
      "description": "Update repository information in root package.json",
      "type": "update-json",
      "config": {
        "file": "package.json",
        "updates": {
          "name": "{{repoName}}",
          "author": "{{author}} <{{authorEmail}}>",
          "repository": {
            "type": "git",
            "url": "{{repoUrl}}"
          },
          "homepage": "{{baseRepoUrl}}"
        }
      }
    },
    {
      "id": "update-license",
      "name": "Update package.json license",
      "description": "Update license field in package.json",
      "type": "update-json",
      "condition": "licenseType !== 'NONE'",
      "config": {
        "file": "package.json",
        "updates": {
          "license": "{{licenseType}}"
        }
      }
    }
  ]
}
