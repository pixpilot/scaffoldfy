{
  "$schema": "../node_modules/@pixpilot/scaffoldfy/schema/scaffoldfy.schema.json",
  "name": "repo-info",
  "description": "Repository information prompts and variables for pnpm-turbo-monorepo-template",
  "extends": [],
  "variables": [
    {
      "id": "repoUrlVar",
      "value": {
        "type": "exec",
        "value": "git config --get remote.origin.url"
      },
      "required": false
    },
    {
      "id": "repoOwnerVar",
      "value": {
        "type": "exec",
        "value": "git remote get-url origin | node -pe \"require('fs').readFileSync(0,'utf-8').split('/').slice(-2,-1)[0].split(':').pop()\""
      }
    }
  ],
  "prompts": [
    {
      "id": "repoOwner",
      "type": "input",
      "message": "Repository owner (GitHub username or organization)",
      "default": {
        "type": "interpolate",
        "value": "{{repoOwnerVar}}"
      },
      "required": true
    },
    {
      "id": "repoUrl",
      "type": "input",
      "message": "Repository URL",
      "default": {
        "type": "interpolate",
        "value": "{{repoUrlVar}}"
      },
      "required": false
    },
    {
      "id": "baseRepoUrl",
      "type": "input",
      "message": "Base repository URL",
      "default": {
        "type": "exec",
        "value": "git remote get-url origin | node -e \"const url=require('fs').readFileSync(0,'utf-8').trim(); const match=url.match(/^(?:https?:\\/\\/|git@)([^/:]+)[:/](.+?)(?:\\.git)?$/); console.log(match ? `https://${match[1]}/${match[2]}` : '')\""
      },
      "required": false
    }
  ]
}
