{
  "$schema": "https://unpkg.com/@pixpilot/scaffoldfy/schema",
  "description": "Security policy template with configurable contact email",
  "name": "security-policy",
  "dependencies": ["project-info"],
  "prompts": [
    {
      "id": "addSecurityFile",
      "type": "confirm",
      "message": "Add a SECURITY.md file?",
      "default": true,
      "required": true
    },
    {
      "id": "securityEmail",
      "type": "input",
      "message": "Security contact email",

      "enabled": {
        "type": "condition",
        "condition": "addSecurityFile === true"
      },
      "default": {
        "type": "conditional",
        "condition": "orgName === 'pixpilot'",
        "ifTrue": "security@pixpilot.com",
        "ifFalse": {
          "type": "interpolate",
          "value": "{{authorEmail}}"
        }
      },
      "required": true
    }
  ],

  "tasks": [
    {
      "id": "create-security-policy",
      "name": "Create SECURITY.md",
      "description": "Create security policy file with contact email",
      "type": "write",
      "enabled": {
        "type": "condition",
        "condition": "addSecurityFile === true"
      },
      "config": {
        "file": "SECURITY.md",
        "templateFile": "SECURITY.hbs"
      }
    }
  ]
}
