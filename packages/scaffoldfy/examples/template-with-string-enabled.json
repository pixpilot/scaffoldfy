{
  "$schema": "../schema/scaffoldfy.schema.json",
  "name": "conditional-enabled-example",
  "prompts": [
    {
      "id": "useTypeScript",
      "type": "confirm",
      "message": "Use TypeScript?",
      "default": true
    },
    {
      "id": "includeTests",
      "type": "confirm",
      "message": "Include tests?",
      "default": true
    },
    {
      "id": "testFramework",
      "type": "select",
      "message": "Select test framework:",
      "choices": [
        { "name": "Vitest", "value": "vitest" },
        { "name": "Jest", "value": "jest" }
      ],
      "enabled": { "type": "condition", "value": "includeTests === true" }
    }
  ],
  "tasks": [
    {
      "id": "setup-typescript",
      "name": "Setup TypeScript",
      "description": "Create TypeScript configuration",
      "enabled": { "type": "condition", "value": "useTypeScript === true" },
      "type": "create",
      "config": {
        "file": "tsconfig.json",
        "write": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"module\": \"ESNext\",\n    \"strict\": true\n  }\n}"
      }
    },
    {
      "id": "setup-vitest",
      "name": "Setup Vitest",
      "description": "Create Vitest configuration",
      "enabled": {
        "type": "condition",
        "value": "includeTests === true && testFramework === 'vitest'"
      },
      "type": "create",
      "config": {
        "file": "vitest.config.ts",
        "write": "import { defineConfig } from 'vitest/config';\n\nexport default defineConfig({});"
      }
    },
    {
      "id": "setup-jest",
      "name": "Setup Jest",
      "description": "Create Jest configuration",
      "enabled": {
        "type": "condition",
        "value": "includeTests === true && testFramework === 'jest'"
      },
      "type": "create",
      "config": {
        "file": "jest.config.js",
        "write": "module.exports = {};"
      }
    }
  ]
}
